<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Easy | Care</title>
    <link rel="icon" type="image/png" href="icon_easycare.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=Sarabun:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&display=swap"
        rel="stylesheet">
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script src="/socket.io/socket.io.js"></script>

    <!-- ===== Claim Receipt Styles (embedded, used only when printing claim receipt) ===== -->
    <style id="claimReceiptStyles">
        /* These styles are scoped to #claimReceiptView and the @media print block */
        #claimReceiptView {
            display: none;
            font-family: 'Angsana New', 'TH Sarabun New', 'Sarabun', sans-serif;
            font-size: 18px;
            background-color: #f0f0f0;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        #claimReceiptView .cr-page {
            width: 210mm;
            min-height: 297mm;
            padding: 10mm 15mm;
            margin: 5mm auto;
            background: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative;
            display: flex;
            flex-direction: column;
            box-sizing: border-box;
        }

        #claimReceiptView .cr-page-content {
            flex-grow: 1;
        }

        #claimReceiptView .cr-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        #claimReceiptView .cr-logo-section {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #claimReceiptView .cr-company-name {
            text-align: center;
            flex-grow: 1;
        }

        #claimReceiptView .cr-company-name h1 {
            margin: 0;
            font-size: 26px;
            font-weight: bold;
        }

        #claimReceiptView .cr-company-name h2 {
            margin: 5px 0;
            font-size: 22px;
            font-weight: normal;
        }

        #claimReceiptView .cr-date-section {
            text-align: right;
            padding-top: 40px;
        }

        #claimReceiptView .cr-form-container {
            border: 1.5px solid #000;
            width: 100%;
        }

        #claimReceiptView .cr-row {
            display: flex;
            border-bottom: 1px solid #000;
            box-sizing: border-box;
        }

        #claimReceiptView .cr-row:last-child {
            border-bottom: none;
        }

        #claimReceiptView .cr-col {
            padding: 8px 10px;
            border-right: 1px solid #000;
            box-sizing: border-box;
        }

        #claimReceiptView .cr-col:last-child {
            border-right: none;
        }

        #claimReceiptView .cr-section-title {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }

        #claimReceiptView .cr-section-header-row {
            background-color: #f9f9f9;
        }

        #claimReceiptView .cr-w-25 {
            width: 25%;
        }

        #claimReceiptView .cr-w-30 {
            width: 30%;
        }

        #claimReceiptView .cr-w-33 {
            width: 33.33%;
        }

        #claimReceiptView .cr-w-40 {
            width: 40%;
        }

        #claimReceiptView .cr-w-50 {
            width: 50%;
        }

        #claimReceiptView .cr-w-60 {
            width: 60%;
        }

        #claimReceiptView .cr-w-70 {
            width: 70%;
        }

        #claimReceiptView .cr-w-100 {
            width: 100%;
        }

        #claimReceiptView .cr-field {
            margin-bottom: 6px;
            display: flex;
            align-items: baseline;
        }

        #claimReceiptView .cr-label {
            margin-right: 5px;
        }

        #claimReceiptView .cr-dotted-line {
            border-bottom: 1px dotted #000;
            display: inline-block;
            min-height: 1.2em;
            padding: 0 5px;
            flex: 1;
        }

        #claimReceiptView .cr-signature-section {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
            text-align: center;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }

        #claimReceiptView .cr-sig-block {
            width: 30%;
        }

        #claimReceiptView .cr-sig-line {
            border-bottom: 1px dotted #000;
            margin-bottom: 5px;
            padding-top: 50px;
            min-height: 70px;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }

        #claimReceiptView .cr-signature-img {
            max-height: 60px;
            max-width: 90%;
            object-fit: contain;
        }

        #claimReceiptView .cr-sig-name {
            margin-top: 5px;
            font-size: 16px;
        }

        #claimReceiptView .cr-terms-list {
            list-style: none;
            counter-reset: terms-counter;
            font-size: 15px;
            line-height: 1.6;
            margin: 10px 0;
            padding-left: 0;
        }

        #claimReceiptView .cr-terms-list li {
            counter-increment: terms-counter;
            margin-bottom: 6px;
            padding-left: 25px;
            position: relative;
        }

        #claimReceiptView .cr-terms-list li::before {
            content: counter(terms-counter) ".";
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        #claimReceiptView .cr-images-grid {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        #claimReceiptView .cr-images-grid img {
            height: 80px;
            width: 80px;
            object-fit: cover;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        #claimReceiptView .cr-print-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        #claimReceiptView .cr-print-button {
            background: #1e40af;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        #claimReceiptView .cr-print-button:hover {
            background: #1e3a8a;
        }

        #claimReceiptView .cr-close-button {
            background: #64748b;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }

        #claimReceiptView .cr-close-button:hover {
            background: #475569;
        }

        /* ===== Print styles: when printing, hide app and show only receipt ===== */
        @media print {

            /* Hide everything except the receipt */
            body>*:not(#claimReceiptView) {
                display: none !important;
            }

            #claimReceiptView {
                display: block !important;
                background: none;
                padding: 0;
            }

            #claimReceiptView .cr-print-buttons {
                display: none !important;
            }

            #claimReceiptView .cr-page {
                margin: 0;
                box-shadow: none;
                page-break-after: always;
            }
        }
    </style>
</head>

<body>
    <!-- Global Loader Overlay -->
    <div id="global-loader" class="global-loader">
        <div class="loader-content">
            <div class="loader-spinner">
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
                <div class="spinner-ring"></div>
            </div>
            <p class="loader-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
        </div>
    </div>

    <!-- App Container --->
    <div id="app">

        <!-- Login View -->
        <div id="loginView" class="view auth-page-v2" style="display: none;">
            <!-- Animated floating orbs -->
            <div class="login-orb login-orb-1"></div>
            <div class="login-orb login-orb-2"></div>
            <div class="login-orb login-orb-3"></div>
            <div class="login-orb login-orb-4"></div>

            <div class="login-split-container">
                <!-- Branding Panel (Left) -->
                <div class="login-brand-panel">
                    <div class="login-brand-content">
                        <img src="logo_easycare.png" alt="EasyCare Logo" class="login-brand-logo">
                        <h1 class="login-brand-title">Easy<span>Care</span></h1>
                        <p class="login-brand-subtitle">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</p>
                        <div class="login-brand-features">
                            <div class="login-feature-item">
                                <div class="login-feature-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                                    </svg>
                                </div>
                                <span>‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
                            </div>
                            <div class="login-feature-item">
                                <div class="login-feature-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                    </svg>
                                </div>
                                <span>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÄ‡∏Ñ‡∏•‡∏°‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</span>
                            </div>
                            <div class="login-feature-item">
                                <div class="login-feature-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                        <line x1="8" y1="21" x2="16" y2="21"></line>
                                        <line x1="12" y1="17" x2="12" y2="21"></line>
                                    </svg>
                                </div>
                                <span>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏à‡∏ö‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</span>
                            </div>
                        </div>
                    </div>
                    <div class="login-brand-footer">
                        <p>¬© 2026 EasyCare ‚Äî Powered by Silmin Mobile</p>
                    </div>
                </div>

                <!-- Login Form Panel (Right) -->
                <div class="login-form-panel">
                    <div class="login-card-v2">
                        <div class="login-card-header">
                            <div class="login-avatar-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                            </div>
                            <h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤</h2>
                            <p>‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</p>
                        </div>

                        <form id="loginForm" class="login-form-v2">
                            <div class="login-input-group">
                                <label for="username">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                </label>
                                <div class="login-input-wrapper">
                                    <svg class="login-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    <input type="text" id="username" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô" required
                                        autocomplete="username">
                                </div>
                            </div>

                            <div class="login-input-group">
                                <label for="password">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                    ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô
                                </label>
                                <div class="login-input-wrapper">
                                    <svg class="login-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                        stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required
                                        autocomplete="current-password">
                                    <button type="button" id="togglePasswordBtn" class="login-toggle-password"
                                        tabindex="-1" aria-label="‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô">
                                        <svg id="eyeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round">
                                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                            <circle cx="12" cy="12" r="3"></circle>
                                        </svg>
                                        <svg id="eyeOffIcon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                            stroke-linejoin="round" style="display:none;">
                                            <path
                                                d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24">
                                            </path>
                                            <line x1="1" y1="1" x2="23" y2="23"></line>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <div id="loginError" class="login-error-msg" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                                ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
                            </div>

                            <button type="submit" class="login-submit-btn" id="loginSubmitBtn">
                                <span>‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</span>
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path>
                                    <polyline points="10 17 15 12 10 7"></polyline>
                                    <line x1="15" y1="12" x2="3" y2="12"></line>
                                </svg>
                            </button>
                        </form>

                        <div class="login-card-footer">
                            <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard View -->
        <div id="dashboardView" class="view dashboard-page" style="display: none;">
            <div class="sidebar-overlay" id="sidebarOverlay"></div>

            <!-- Mobile Header Bar -->
            <div class="mobile-header">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <div class="mobile-logo-text">Easy<span>Care</span></div>
                <div style="width: 40px;"></div>
            </div>

            <div class="dashboard-container">
                <aside class="sidebar" id="sidebar">
                    <img src="logo_easycare.png" alt="EasyCare Logo" class="logo">
                    <nav>
                        <a href="#" id="dashNavLink" class="active" data-permission="nav-packages">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                            ‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à
                        </a>
                        <a href="#" id="membersNavLink" data-permission="nav-members">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>

                            </svg>
                            ‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
                        </a>
                        <a href="#" id="shopsNavLink" data-permission="nav-shops">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                                <polyline points="9 22 9 12 15 12 15 22"></polyline>
                            </svg>
                            ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
                        </a>
                        <a href="#" id="claimsNavLink" data-permission="nav-claims">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                <polyline points="14 2 14 8 20 8"></polyline>
                                <line x1="12" y1="18" x2="12" y2="12"></line>
                                <line x1="9" y1="15" x2="15" y2="15"></line>
                            </svg>
                            ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°
                        </a>
                        <a href="#" id="statusTrackingNavLink" data-permission="nav-tracking">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                            ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
                            <span id="statusTrackingBadge" class="nav-badge" style="display: none;">0</span>
                        </a>
                        <a href="#" id="approvalNavLink" data-permission="nav-approval">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 11l3 3L22 4"></path>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path>
                            </svg>
                            ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤
                            <span id="approvalBadge" class="nav-badge" style="display: none;">0</span>
                        </a>
                        <a href="#" id="staffNavLink" data-permission="nav-staff">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
                        </a>
                    </nav>
                    <div class="sidebar-footer">
                        <div class="staff-info">
                            <div class="staff-avatar" id="staffInitial">A</div>
                            <div class="staff-details">
                                <p class="staff-name" id="displayStaffName">‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà</p>
                                <p class="staff-role" id="displayStaffPosition">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</p>
                            </div>
                        </div>
                        <button id="logoutBtn" class="logout-link">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
                        </button>
                    </div>
                </aside>

                <!-- Dashboard Main Content -->
                <main id="dashMain" class="main-content">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h1>
                            <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</p>
                        </div>
                        <button id="addNewBtn" class="add-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </header>

                    <div class="stats-overview">
                        <div class="stat-card">
                            <div class="stat-icon purple">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="totalRecords">0</h3>
                                <p>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Total)</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon green">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="activeRecords">0</h3>
                                <p>‡∏õ‡∏Å‡∏ï‡∏¥ (Active)</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon orange">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path
                                        d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                                    </path>
                                    <line x1="12" y1="9" x2="12" y2="13"></line>
                                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="expiringSoon">0</h3>
                                <p>‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏</p>
                            </div>
                        </div>
                    </div>

                    <!-- Advanced Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="dashSearchInput"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå, IMEI, ‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå...">
                            </div>
                            <div class="filter-group">
                                <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="dashStartDate" class="filter-date-input">
                            </div>
                            <div class="filter-group">
                                <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="dashEndDate" class="filter-date-input">
                            </div>
                            <div class="filter-group">
                                <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</label>
                                <select id="dashStatusFilter" class="filter-select">
                                    <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                                    <option value="active">‡∏õ‡∏Å‡∏ï‡∏¥ (Active)</option>
                                    <option value="approval_pending">‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</option>
                                    <option value="approval_approved">‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß</option>
                                    <option value="approval_rejected">‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</option>
                                    <option value="claim_pending">‡∏£‡∏≠‡πÄ‡∏Ñ‡∏•‡∏°</option>
                                    <option value="expired">‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ (Expired)</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô:</label>
                                <select id="dashPaymentFilter" class="filter-select">
                                    <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                                    <option value="full">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</option>
                                    <option value="installment">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏ß‡∏î</option>
                                    <option value="installment_complete">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏á‡∏ß‡∏î‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß</option>
                                </select>
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-search-btn" id="dashFilterBtn">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                                <button type="button" class="filter-reset-btn" id="dashResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="recordsTable">
                            <thead>
                                <tr>
                                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                    <th>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</th>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                                    <th>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
                                    <th>‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</th>
                                    <th>‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                    <th>‡∏ß‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                    <th>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏ú‡∏π‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="recordsBody"></tbody>
                        </table>
                        <div id="emptyState" class="empty-state" style="display: none;">
                            <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÉ‡∏´‡∏°‡πà"</p>
                        </div>
                    </div>
                </main>

                <!-- Members Main Content -->
                <main id="membersMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h1>
                            <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</p>
                        </div>
                        <button id="addMemberBtn" class="add-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </header>

                    <!-- Members Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="membersSearchInput"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å, ‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£...">
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-reset-btn" id="membersResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="membersTable">
                            <thead>
                                <tr>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                                    <th>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏ö‡∏±‡∏ï‡∏£ (ID Card Address)</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="membersBody"></tbody>
                        </table>
                        <div id="membersEmptyState" class="empty-state" style="display: none;">
                            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </main>

                <!-- Shops Main Content -->
                <main id="shopsMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡∏°‡∏¥‡∏ï‡∏£</h1>
                            <p>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á</p>
                        </div>
                        <button id="addShopBtn" class="add-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </header>

                    <!-- Shops Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="shopsSearchInput"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤, ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà...">
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-reset-btn" id="shopsResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="shopsTable">
                            <thead>
                                <tr>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á (Location)</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="shopsBody"></tbody>
                        </table>
                        <div id="shopsEmptyState" class="empty-state" style="display: none;">
                            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </main>

                <!-- Staff Main Content -->
                <main id="staffMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</h1>
                            <p>‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
                        </div>
                        <button id="addStaffBtn" class="add-btn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19"></line>
                                <line x1="5" y1="12" x2="19" y2="12"></line>
                            </svg>
                            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà
                        </button>
                    </header>

                    <div class="table-container">
                        <table id="staffTable">
                            <thead>
                                <tr>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Username)</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
                                    <th>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Role)</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="staffBody"></tbody>
                        </table>
                        <div id="staffEmptyState" class="empty-state" style="display: none;">
                            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </main>

                <!-- Claims Main Content -->
                <main id="claimsMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°</h1>
                            <p>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏Å‡∏ï‡∏¥ (Active) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°</p>
                        </div>
                    </header>

                    <!-- Claims Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="claimsSearchInput"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå, IMEI, ‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå...">
                            </div>
                            <div class="filter-group">
                                <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="claimsStartDate" class="filter-date-input">
                            </div>
                            <div class="filter-group">
                                <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="claimsEndDate" class="filter-date-input">
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-search-btn" id="claimsFilterBtn">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                                <button type="button" class="filter-reset-btn" id="claimsResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="claimsTable">
                            <thead>
                                <tr>
                                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</th>
                                    <th>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</th>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                                    <th>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
                                    <th>‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</th>
                                    <th>‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="claimsBody"></tbody>
                        </table>
                        <div id="claimsEmptyState" class="empty-state" style="display: none;">
                            <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </main>

                <!-- Status Tracking Main Content -->
                <main id="statusTrackingMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°</h1>
                            <p>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡πÄ‡∏Ñ‡∏•‡∏°)</p>
                        </div>
                    </header>

                    <!-- Status Tracking Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="trackingSearchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå, ‡πÄ‡∏•‡∏Ç SML...">
                            </div>
                            <div class="filter-group">
                                <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="trackingStartDate" class="filter-date-input">
                            </div>
                            <div class="filter-group">
                                <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="trackingEndDate" class="filter-date-input">
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-search-btn" id="trackingFilterBtn">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                                <button type="button" class="filter-reset-btn" id="trackingResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="statusTrackingTable">
                            <thead>
                                <tr>
                                    <th>‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ñ‡∏•‡∏°</th>
                                    <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</th>
                                    <th>‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="statusTrackingBody"></tbody>
                        </table>
                        <div id="statusTrackingEmptyState" class="empty-state" style="display: none;">
                            <p>‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</p>
                        </div>
                    </div>
                </main>

                <!-- Approval Main Content -->
                <main id="approvalMain" class="main-content" style="display: none;">
                    <header class="dashboard-header">
                        <div class="header-titles">
                            <h1>‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô</h1>
                            <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡πÉ‡∏´‡∏°‡πà</p>
                        </div>
                    </header>

                    <!-- Filter Tabs -->
                    <div class="stats-overview" style="margin-bottom: 2rem;">
                        <div class="stat-card approval-tab-btn active" data-status="pending"
                            style="cursor: pointer; transition: all 0.3s ease;">
                            <div class="stat-icon orange">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="badgePending">0</h3>
                                <p>‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (Pending)</p>
                            </div>
                        </div>
                        <div class="stat-card approval-tab-btn" data-status="approved"
                            style="cursor: pointer; transition: all 0.3s ease;">
                            <div class="stat-icon green">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="badgeApproved">0</h3>
                                <p>‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß (Approved)</p>
                            </div>
                        </div>
                        <div class="stat-card approval-tab-btn" data-status="rejected"
                            style="cursor: pointer; transition: all 0.3s ease;">
                            <div class="stat-icon red" style="background: rgba(239, 68, 68, 0.1); color: #ef4444;">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <line x1="15" y1="9" x2="9" y2="15"></line>
                                    <line x1="9" y1="9" x2="15" y2="15"></line>
                                </svg>
                            </div>
                            <div class="stat-content">
                                <h3 id="badgeRejected">0</h3>
                                <p>‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (Rejected)</p>
                            </div>
                        </div>
                    </div>

                    <!-- Live Update Bar -->
                    <div class="approval-header-bar">
                        <button id="btnApprovalViewLog" class="btn-toggle-refresh" title="‡∏î‡∏π Log ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
                            style="background: #0f172a;">
                            üïí Log
                        </button>
                    </div>

                    <!-- Approval Filter Bar -->
                    <div class="advanced-filter-bar">
                        <div class="filter-bar-row">
                            <div class="search-container">
                                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                                <input type="text" id="approvalSearchInput"
                                    placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠, ‡πÄ‡∏ö‡∏≠‡∏£‡πå, IMEI, ‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå...">
                            </div>
                            <div class="filter-group">
                                <label>‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="approvalStartDate" class="filter-date-input">
                            </div>
                            <div class="filter-group">
                                <label>‡∏ñ‡∏∂‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
                                <input type="date" id="approvalEndDate" class="filter-date-input">
                            </div>
                            <div class="filter-actions">
                                <button type="button" class="filter-search-btn" id="approvalFilterBtn">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                                <button type="button" class="filter-reset-btn" id="approvalResetBtn">‚Üª ‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
                            </div>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="approvalTable">
                            <thead>
                                <tr>
                                    <th>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</th>
                                    <th>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</th>
                                    <th>‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</th>
                                    <th>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</th>
                                </tr>
                            </thead>
                            <tbody id="approvalBody"></tbody>
                        </table>
                        <div id="approvalEmptyState" class="empty-state" style="display: none;">
                            <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î‡∏ô‡∏µ‡πâ</p>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
    </div>

    <!-- Registration View -->
    <div id="registrationView" class="view" style="display: none; padding: 2rem 1rem;">
        <div class="container">
            <header class="form-header">
                <img src="logo_easycare.png" alt="EasyCare Logo" class="logo">
                <h1 id="regFormTitle">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢</h1>
                <p id="regFormSubtitle">‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ iPhone & iPad</p>
            </header>

            <form id="warrantyForm">
                <input type="hidden" id="editRecordId">
                <!-- User Info -->
                <section>
                    <div class="section-header"><span class="step-number">01</span>
                        <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
                    </div>

                    <!-- Member Search Box -->
                    <div class="form-group full-width" style="margin-bottom: 2rem;">
                        <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å (‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å / ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô / ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ / ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•)</label>
                        <div class="search-container">
                            <input type="text" id="memberSearchInput"
                                placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡∏∑‡πà‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠ ‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£)..." autocomplete="off"
                                style="border: 2px solid var(--primary); padding-left: 3rem;">
                            <span
                                style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--primary);">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                            </span>
                            <div id="memberSearchResults" class="search-results-dropdown"></div>
                        </div>
                    </div>

                    <div class="grid-row">
                        <div class="form-group"><label>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå (‡∏Å‡∏ò.)</label><input type="text" id="policyNumber"
                                readonly class="readonly-field" placeholder="‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"></div>
                        <div class="form-group"><label>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label><input type="text" id="memberId"
                                placeholder="‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"></div>
                        <div class="form-group"><label>‡∏ä‡∏∑‡πà‡∏≠</label><input type="text" id="firstName" required></div>
                        <div class="form-group"><label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input type="text" id="lastName" required>
                        </div>
                        <div class="form-group"><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label><input type="tel" id="phone" required
                                placeholder="0xxxxxxxxx" maxlength="10" inputmode="numeric" pattern="[0-9]{10}"
                                title="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 10 ‡∏´‡∏•‡∏±‡∏Å"></div>
                        <div class="form-group">
                            <label>‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (Shop)</label>
                            <select id="shopName" required>
                                <option value="" disabled selected>‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤...</option>
                            </select>
                        </div>
                        <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î (‡∏û.‡∏®.)</label>
                            <div style="display: flex; gap: 0.5rem;">
                                <input type="number" id="dobDay" placeholder="‡∏ß‡∏±‡∏ô" min="1" max="31" required
                                    style="width: 80px;">
                                <input type="number" id="dobMonth" placeholder="‡πÄ‡∏î‡∏∑‡∏≠‡∏ô" min="1" max="12" required
                                    style="width: 80px;">
                                <input type="number" id="dobYear" placeholder="‡∏õ‡∏µ ‡∏û.‡∏®." min="2400" max="2600" required>
                            </div>
                        </div>
                        <div class="form-group"><label>‡∏≠‡∏≤‡∏¢‡∏∏</label><input type="text" id="age" readonly
                                class="readonly-field" placeholder="‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"></div>
                        <div class="form-group full-width"><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label><textarea id="address" rows="3"
                                required></textarea></div>
                    </div>
                </section>

                <!-- Device Info -->
                <section>
                    <div class="section-header"><span class="step-number">02</span>
                        <h2>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</h2>
                    </div>
                    <div class="grid-row">
                        <div class="form-group">
                            <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
                            <select id="productType" required>
                                <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</option>
                                <option value="iPhone">iPhone</option>
                                <option value="iPad">iPad</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>‡∏£‡∏∏‡πà‡∏ô (Model)</label>
                            <select id="model" required>
                                <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</option>
                                <option value="iPhone 13">iPhone 13</option>
                                <option value="iPhone 15">iPhone 15</option>
                                <option value="iPhone 16">iPhone 16</option>
                                <option value="iPhone 16 Plus">iPhone 16 Plus</option>
                                <option value="iPhone 16 Pro">iPhone 16 Pro</option>
                                <option value="iPhone 16 Pro Max">iPhone 16 Pro Max</option>
                                <option value="iPhone 17 256">iPhone 17 256</option>
                                <option value="iPhone 17 Pro">iPhone 17 Pro</option>
                                <option value="iPhone 17 Pro Max">iPhone 17 Pro Max</option>
                                <option value="iPad Gen11">iPad Gen11</option>
                                <option value="iPad Air7">iPad Air7</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>‡∏™‡∏µ (Color)</label>
                            <select id="color" required>
                                <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ</option>
                                <option value="‡∏™‡∏µ‡∏î‡∏≥">‡∏™‡∏µ‡∏î‡∏≥ (Black)</option>
                                <option value="‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß">‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß (White)</option>
                                <option value="‡∏ö‡∏•‡∏π">‡∏ö‡∏•‡∏π (Blue)</option>
                                <option value="‡∏ä‡∏°‡∏û‡∏π">‡∏ä‡∏°‡∏û‡∏π (Pink)</option>
                                <option value="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green)</option>
                                <option value="‡∏°‡πà‡∏ß‡∏á">‡∏°‡πà‡∏ß‡∏á (Purple)</option>
                                <option value="‡∏™‡πâ‡∏°">‡∏™‡πâ‡∏° (Orange)</option>
                                <option value="‡πÄ‡∏ó‡∏≤">‡πÄ‡∏ó‡∏≤ (Gray)</option>
                                <option value="‡∏Å‡∏£‡∏≤‡πÑ‡∏ü‡∏ï‡πå">‡∏Å‡∏£‡∏≤‡πÑ‡∏ü‡∏ï‡πå (Graphite)</option>
                                <option value="‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏£‡∏≤‡∏¢">‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏£‡∏≤‡∏¢ (Desert)</option>
                                <option value="‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏£‡∏≤‡∏¢">‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢‡∏°‡∏ó‡∏∞‡πÄ‡∏•‡∏ó‡∏£‡∏≤‡∏¢ (Desert Titanium)</option>
                                <option value="‡πÑ‡∏ß‡∏ó‡πå‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢‡∏°">‡πÑ‡∏ß‡∏ó‡πå‡πÑ‡∏ó‡πÄ‡∏ó‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (White Titanium)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏ (Capacity)</label>
                            <select id="capacity" required>
                                <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</option>
                                <option value="128GB">128GB</option>
                                <option value="256GB">256GB</option>
                                <option value="512GB">512GB</option>
                                <option value="1TB">1TB</option>
                                <option value="2TB">2TB</option>
                            </select>
                        </div>
                        <div class="form-group"><label>‡πÄ‡∏•‡∏Ç‡∏ã‡∏µ‡πÄ‡∏£‡∏µ‡∏¢‡∏• (Serial Number)</label>
                            <input type="text" id="serialNumber" required minlength="10" maxlength="10"
                                placeholder="‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏ö 10 ‡∏´‡∏•‡∏±‡∏Å">
                        </div>
                        <div class="form-group" id="imeiGroup"><label>‡πÄ‡∏•‡∏Ç IMEI</label>
                            <input type="text" id="imei" minlength="15" maxlength="15" pattern="\d{15}"
                                placeholder="‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 15 ‡∏´‡∏•‡∏±‡∏Å">
                        </div>
                        <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå</label>
                            <input type="date" id="officialWarrantyEnd" required>
                        </div>
                        <div class="form-group"><label>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏ï‡πá‡∏° ‡∏ì ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
                            <input type="number" id="deviceValue" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏ö‡∏≤‡∏ó)" required>
                        </div>
                    </div>
                </section>

                <!-- Warranty & Payment -->
                <section>
                    <div class="section-header"><span class="step-number">03</span>
                        <h2>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</h2>
                    </div>
                    <div class="grid-row">
                        <div class="form-group">
                            <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á (Protection Type)</label>
                            <select id="protectionType" required>
                                <option value="Full">‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</option>
                                <option value="ScreenApple">‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡∏à‡∏≠‡πÅ‡∏ó‡πâ‡∏à‡∏≤‡∏Å‡∏®‡∏π‡∏ô‡∏¢‡πåApple)</option>
                                <option value="ScreenCompany">‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡∏à‡∏≠‡πÅ‡∏ó‡πâ‡∏à‡∏≤‡∏Å‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à (Package)</label>
                            <select id="package" required>
                                <option value="" disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ú‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô</option>
                                <option value="Plan A">Plan A</option>
                                <option value="Plan B">Plan B</option>
                                <option value="Plan C">Plan C</option>
                                <option value="Plan D">Plan D</option>
                                <option value="Plan a">Plan a</option>
                                <option value="Plan b">Plan b</option>
                                <option value="Plan c">Plan c</option>
                            </select>
                        </div>
                        <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á</label>
                            <input type="text" id="startDateDisplay" readonly class="readonly-field"
                                value="‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô">
                        </div>
                        <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                            <input type="text" id="endDateDisplay" readonly class="readonly-field"
                                value="1 ‡∏õ‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°">
                        </div>
                        <input type="hidden" id="startDate">
                        <input type="hidden" id="endDate">
                        <div class="form-group"><label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏±‡∏ô‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á</label><input type="number" id="remainingDays"
                                readonly class="readonly-field"></div>
                    </div>

                    <div id="pricingSummary" class="pricing-summary">
                        <div class="price-row"><span>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡∏ê‡∏≤‡∏ô:</span><span id="packagePriceText">0
                                ‡∏ö‡∏≤‡∏ó</span></div>
                        <div class="price-row total"><span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏™‡∏∏‡∏ó‡∏ò‡∏¥:</span><span id="totalPriceText">0
                                ‡∏ö‡∏≤‡∏ó</span></div>
                    </div>

                    <div class="form-group radio-group">
                        <label>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</label>
                        <div class="radio-options">
                            <label class="radio-label"><input type="radio" name="paymentMethod" value="Full Payment"
                                    checked><span class="radio-custom"></span>‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</label>
                            <label class="radio-label"><input type="radio" name="paymentMethod"
                                    value="Installment"><span class="radio-custom"></span>‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞ (3 ‡∏á‡∏ß‡∏î)</label>
                        </div>
                    </div>

                    <div id="initialPaymentCheck" class="form-group" style="margin-top: 1rem;"></div>

                    <div id="installmentContainer" class="installment-preview" style="display: none;">
                        <h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡πà‡∏≠‡∏ô‡∏ä‡∏≥‡∏£‡∏∞</h3>
                        <table class="preview-table">
                            <thead>
                                <tr>
                                    <th>‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà</th>
                                    <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)</th>
                                    <th>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</th>
                                    <th>‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ú‡πà‡∏≠‡∏ô‡∏ú‡∏±‡∏ô</th>
                                </tr>
                            </thead>
                            <tbody id="installmentBody"></tbody>
                        </table>
                    </div>
                </section>

                <!-- Payment Management (Only shown in Edit Mode) -->
                <section id="paymentManagementSection" class="payment-status-section" style="display: none;">
                    <div class="section-header"><span class="step-number">04</span>
                        <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h2>
                    </div>

                    <!-- Debt Summary -->
                    <div class="debt-summary-container"
                        style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 20px;">
                        <div class="payment-info-card"
                            style="background: #f8fafc; border-left: 4px solid var(--text-muted);">
                            <div>
                                <p style="color: var(--text-muted); font-size: 0.85rem; margin: 0;">‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                <h3 id="debtSummaryTotal" style="margin: 5px 0 0 0; color: var(--text-main);">0 ‡∏ö‡∏≤‡∏ó</h3>
                            </div>
                        </div>
                        <div class="payment-info-card" style="background: #fff7ed; border-left: 4px solid #f97316;">
                            <div>
                                <p style="color: #9a3412; font-size: 0.85rem; margin: 0;">‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡∏µ‡πâ‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</p>
                                <h3 id="debtSummaryRemaining" style="margin: 5px 0 0 0; color: #c2410c;">0 ‡∏ö‡∏≤‡∏ó</h3>
                            </div>
                        </div>
                    </div>
                    <div id="fullPaymentStatus" style="display: none;">
                        <div class="payment-info-card">
                            <div>
                                <p style="color: var(--text-muted); font-size: 0.9rem;">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
                                <h3 id="fullPaymentAmount" style="margin: 0;">0 ‡∏ö‡∏≤‡∏ó</h3>
                            </div>
                            <div style="text-align: right;">
                                <p id="fullPaymentStatusText" style="margin-bottom: 0.5rem;"></p>
                                <button type="button" id="confirmFullPaymentBtn"
                                    class="receive-btn">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ä‡∏≥‡∏£‡∏∞</button>
                            </div>
                        </div>
                    </div>
                    <div id="installmentStatus" style="display: none;">
                        <table class="preview-table">
                            <thead>
                                <tr>
                                    <th>‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà</th>
                                    <th>‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó)</th>
                                    <th>‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î</th>
                                    <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                                    <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
                                    <th>‡∏û‡∏¥‡∏°‡∏û‡πå</th>
                                </tr>
                            </thead>
                            <tbody id="paymentStatusBody"></tbody>
                        </table>
                        <div id="payAllRemainingContainer" style="display: none; margin-top: 1rem; text-align: right;">
                            <button type="button" id="payAllRemainingBtn" class="receive-btn"
                                style="background: var(--bg-sidebar-solid);">üí∞ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡∏á‡∏ß‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
                        </div>
                    </div>
                </section>

                <div class="form-actions">
                    <button type="button" id="backToDashBtn" class="submit-btn"
                        style="background: var(--text-muted); margin-right: 1rem;">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
                    <button type="submit" class="submit-btn"><span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</span></button>
                </div>
            </form>
        </div>
    </div>

    <!-- =================== MODALS =================== -->

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <div class="success-icon">‚úì</div>
            <h2 id="successModalTitle">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
            <p id="successModalText">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</p>

            <!-- Advanced Checkout Section (Step 1: Payment Selection) -->
            <div id="checkoutStep1" class="checkout-step" style="display: none; margin: 1.5rem 0; text-align: left;">
                <div
                    style="background: #f1f5f9; padding: 1rem; border-radius: 8px; margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center;">
                    <span style="font-weight: 600; color: var(--text-main);">‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞:</span>
                    <span id="checkoutTotalDue" style="font-size: 1.5rem; font-weight: 700; color: var(--primary);">0.00
                        ‡∏ö‡∏≤‡∏ó</span>
                </div>

                <div class="payment-tabs">
                    <button type="button" class="pay-tab-btn active" data-method="Cash">üíµ ‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î</button>
                    <button type="button" class="pay-tab-btn" data-method="Transfer">üì± ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</button>
                    <button type="button" class="pay-tab-btn" data-method="Split">‚öñÔ∏è ‡πÅ‡∏ö‡πà‡∏á‡∏à‡πà‡∏≤‡∏¢</button>
                </div>

                <div id="cashInputGroup" class="payment-group">
                    <label>‡∏£‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡∏°‡∏≤ (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="cashReceivedInput" placeholder="0.00" class="full-width"
                        style="font-size: 1.2rem;">
                    <div style="margin-top: 10px; display: flex; justify-content: space-between; font-weight: 600;">
                        <span>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:</span>
                        <span id="cashChangeAmount" style="color: #ef4444; font-size: 1.2rem;">0.00 ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                </div>

                <div id="transferInputGroup" class="payment-group" style="display: none;">
                    <label>‡∏¢‡∏≠‡∏î‡πÇ‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
                    <input type="number" id="transferAmountInput" placeholder="0.00" class="full-width"
                        style="font-size: 1.2rem;">
                    <label style="margin-top: 10px;">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á / Slip ID (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                    <input type="text" id="transferRefInput" placeholder="Ref ID..." class="full-width">
                </div>

                <div id="splitInputGroup" class="payment-group" style="display: none;">
                    <div class="grid-row" style="gap: 10px;">
                        <div>
                            <label>‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î (‡∏ö‡∏≤‡∏ó)</label>
                            <input type="number" id="splitCashInput" placeholder="0.00" class="full-width">
                        </div>
                        <div>
                            <label>‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏≠‡∏ô (‡∏ö‡∏≤‡∏ó)</label>
                            <input type="number" id="splitTransferInput" placeholder="0.00" class="full-width">
                        </div>
                    </div>
                    <div class="payment-summary-box" style="margin-top: 1rem; padding: 1rem;">
                        <div class="summary-row">
                            <span>‡∏£‡∏ß‡∏°‡∏à‡πà‡∏≤‡∏¢:</span>
                            <span id="splitTotalPaid" style="font-weight: 600;">0.00 ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div class="summary-row">
                            <span>‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á:</span>
                            <span id="splitBalance" style="font-weight: 600; color: #ef4444;">-0.00 ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                        <div id="splitChangeRow" class="summary-row" style="display: none; font-weight: 600;">
                            <span>‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô:</span>
                            <span id="splitChangeAmount" style="color: #ef4444;">0.00 ‡∏ö‡∏≤‡∏ó</span>
                        </div>
                    </div>
                </div>

                <button id="goToSummaryBtn" class="submit-btn full-width" style="margin-top: 1.5rem;"
                    disabled>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ</button>
            </div>

            <!-- Step 2: Summary Section -->
            <div id="checkoutStep2" class="checkout-step" style="display: none; margin: 1.5rem 0; text-align: left;">
                <h3
                    style="margin-bottom: 1rem; color: var(--text-main); font-size: 1.1rem; border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem;">
                    üìÉ ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <div style="display: flex; justify-content: space-between;">
                        <span>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à:</span>
                        <span id="summaryTotalDue" style="font-weight: 600;">0.00 ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î:</span>
                        <span id="summaryCashPaid">0.00 ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>‡∏ä‡∏≥‡∏£‡∏∞‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏≠‡∏ô:</span>
                        <span id="summaryTransferPaid">0.00 ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                    <div id="summaryChangeRow"
                        style="display: flex; justify-content: space-between; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #cbd5e1;">
                        <span style="font-weight: 700;">‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏ô (Cash Change):</span>
                        <span id="summaryChangeAmount" style="color: #ef4444; font-weight: 800; font-size: 1.2rem;">0.00
                            ‡∏ö‡∏≤‡∏ó</span>
                    </div>
                </div>
                <div style="display: flex; gap: 10px; margin-top: 1.5rem;">
                    <button id="backToInputBtn" class="btn-secondary">‚¨ÖÔ∏è ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
                    <button id="finalConfirmBtn" class="submit-btn" style="flex: 2; margin: 0;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏à‡πà‡∏≤‡∏¢ &
                        ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à</button>
                </div>
            </div>

            <!-- Step 3: Transaction Complete -->
            <div id="checkoutStep3" class="checkout-step"
                style="display: none; margin: 1.5rem 0; padding: 1rem; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 12px; text-align: center;">
                <div style="font-size: 3rem; margin-bottom: 0.5rem;">üéâ</div>
                <h3 style="color: #166534; margin-bottom: 0.5rem;">‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå</h3>
                <p style="color: #15803d; font-size: 0.9rem;">‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß</p>
                <div style="display: flex; gap: 10px; margin-top: 1.5rem;">
                    <button id="reprintReceiptBtn" class="receive-btn" style="flex: 1; margin: 0;">üñ®Ô∏è
                        ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
                    <button id="finishProcessBtn" class="submit-btn" style="flex: 1; margin: 0; background: #22c55e;">‚úÖ
                        ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
                </div>
            </div>

            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 1rem;">
                <button id="closeModal" class="btn-cancel">‚úï ‡∏õ‡∏¥‡∏î</button>
            </div>
        </div>
    </div>

    <!-- Member Form Modal -->
    <div id="memberModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <h2 id="memberModalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</h2>
            <div style="margin-bottom: 1.5rem;">
                <button type="button" id="readSmartCardBtn" class="submit-btn full-width"
                    style="background: linear-gradient(135deg, #4f46e5 0%, #3730a3 100%); margin-bottom: 1rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round" style="margin-right: 8px;">
                        <rect x="3" y="4" width="18" height="16" rx="2"></rect>
                        <line x1="7" y1="8" x2="17" y2="8"></line>
                        <line x1="7" y1="12" x2="17" y2="12"></line>
                        <line x1="7" y1="16" x2="13" y2="16"></line>
                    </svg>
                    ü™™ ‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô (Read Smart Card)
                </button>
            </div>
            <form id="memberForm">
                <input type="hidden" id="editMemberId">
                <div id="smartCardPhotoContainer" style="display: none; text-align: center; margin-bottom: 1rem;">
                    <img id="smartCardPhoto" src="" alt="Member Photo"
                        style="width: 100px; height: 120px; object-fit: cover; border-radius: 8px; border: 2px solid #e2e8f0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                </div>
                <div class="grid-row">
                    <div class="form-group"><label>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label><input type="text" id="memberIdDisplay" readonly
                            class="readonly-field" placeholder="‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"></div>
                    <div class="form-group"><label>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label><input type="text" id="memberCitizenId"
                            readonly class="readonly-field" placeholder="‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏ö‡∏ö‡∏±‡∏ï‡∏£"></div>
                    <div class="form-group"><label>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</label><input type="text" id="memberPrefix" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ä‡∏∑‡πà‡∏≠ (TH)</label><input type="text" id="memberFirstName" required
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (TH)</label><input type="text" id="memberLastName" required
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>First Name (EN)</label><input type="text" id="memberFirstNameEn"
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>Last Name (EN)</label><input type="text" id="memberLastNameEn"
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>‡πÄ‡∏û‡∏®</label><input type="text" id="memberGender" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î</label><input type="date" id="memberBirthdate" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏ö‡∏±‡∏ï‡∏£</label><input type="date" id="memberCardExpiry"
                            readonly class="readonly-field"></div>
                    <div class="form-group full-width"><label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
                        <textarea id="memberIdCardAddress" rows="3" readonly class="readonly-field"></textarea>
                    </div>
                    <div class="form-group full-width">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á (Shipping Address)</label>
                            <button type="button" id="copyAddressBtn" class="receive-btn"
                                style="padding: 4px 10px; font-size: 0.75rem;">‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏ô‡∏≤‡∏ö‡∏±‡∏ï‡∏£</button>
                        </div>
                        <textarea id="memberShippingAddress" rows="3"></textarea>
                    </div>
                </div>
                <div class="form-actions" style="margin-top: 1.5rem;">
                    <button type="button" id="closeMemberModal" class="submit-btn"
                        style="background: var(--text-muted);">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="submit-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Staff Form Modal -->
    <div id="staffModal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <h2 id="staffModalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</h2>
            <form id="staffForm">
                <input type="hidden" id="editStaffId">
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Username) <span style="color: #ef4444;">*</span></label>
                    <input type="text" id="staffUsername" required placeholder="‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö">
                </div>
                <div class="form-group">
                    <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (Password) <span style="color: #ef4444;" id="staffPasswordRequired">*</span></label>
                    <input type="password" id="staffPassword" required placeholder="‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö">
                    <small id="staffPasswordHelp"
                        style="color: #64748b; font-size: 0.8rem; display: none;">‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</small>
                </div>
                <div class="form-group">
                    <label>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô <span style="color: #ef4444;">*</span></label>
                    <input type="text" id="staffName" required placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ô‡∏≤‡∏¢‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡∏™‡∏°‡∏°‡∏ï‡∏¥">
                </div>
                <div class="form-group">
                    <label>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (Role) <span style="color: #ef4444;">*</span></label>
                    <select id="staffRole" required>
                        <option value="sales">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Ç‡∏≤‡∏¢</option>
                        <option value="approver">‡∏ù‡πà‡∏≤‡∏¢‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏™‡∏±‡∏ç‡∏ç‡∏≤</option>
                        <option value="admin">‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</option>
                    </select>
                </div>

                <div class="form-actions" style="margin-top: 1.5rem;">
                    <button type="button" id="closeStaffModal" class="submit-btn"
                        style="background: var(--text-muted);">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="submit-btn" id="saveStaffBtn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                </div>
            </form>
        </div>
    </div>


    <!-- Shop Modal -->
    <div id="shopModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h2 id="shopModalTitle">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
            <form id="shopForm">
                <input type="hidden" id="editShopId">
                <div class="grid-row">
                    <div class="form-group full-width"><label>‡∏£‡∏´‡∏±‡∏™‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</label><input type="text" id="shopIdDisplay"
                            readonly class="readonly-field" placeholder="‡∏≠‡∏≠‡∏Å‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥"></div>
                    <div class="form-group full-width"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</label><input type="text" id="shopModalName"
                            required></div>
                    <div class="form-group full-width">
                        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á (Location)</label>
                        <textarea id="shopLocation" rows="3" required></textarea>
                    </div>
                </div>
                <div class="form-actions" style="margin-top: 1.5rem;">
                    <button type="button" id="closeShopModal" class="submit-btn"
                        style="background: var(--text-muted);">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="submit-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Claim Form Modal -->
    <div id="claimFormModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary);">üìã ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô</h2>

            <!-- Policy Details (read-only) -->
            <div class="claim-policy-info"
                style="background: #f1f5f9; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3 style="margin-bottom: 1rem; font-size: 1rem; color: var(--text-main);">üìÑ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</h3>
                <div class="grid-row" style="gap: 0.75rem;">
                    <div class="form-group"><label>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</label><input type="text" id="claimPolicyNumber" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</label><input type="text" id="claimMemberId" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</label><input type="text" id="claimCustomerName" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label><input type="text" id="claimCustomerPhone"
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</label><input type="text" id="claimDeviceModel" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏™‡∏µ</label><input type="text" id="claimColor" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>Serial Number</label><input type="text" id="claimSerial" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>IMEI</label><input type="text" id="claimIMEI" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à</label><input type="text" id="claimPackage" readonly
                            class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á</label><input type="text" id="claimStartDate"
                            readonly class="readonly-field"></div>
                    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡∏£‡∏≠‡∏á</label><input type="text" id="claimEndDate"
                            readonly class="readonly-field"></div>
                </div>
            </div>

            <!-- Claim Form -->
            <form id="claimForm" enctype="multipart/form-data">
                <input type="hidden" id="claimWarrantyId">
                <div
                    style="background: linear-gradient(135deg, #fef3c7, #fff7ed); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1rem; font-size: 1rem; color: #92400e;">üìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°</h3>
                    <div class="grid-row" style="gap: 0.75rem;">
                        <div class="form-group">
                            <label>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°</label>
                            <input type="text" id="claimDate" readonly class="readonly-field">
                        </div>
                        <div class="form-group">
                            <label>‡∏£‡∏´‡∏±‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏° (Claim ID)</label>
                            <input type="text" id="claimIdDisplay" readonly class="readonly-field"
                                placeholder="‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÇ‡∏î‡∏¢‡∏£‡∏∞‡∏ö‡∏ö">
                        </div>
                        <div class="form-group">
                            <label>‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</label>
                            <input type="text" id="claimStaffName" readonly class="readonly-field">
                        </div>
                    </div>

                    <!-- Pre-repair Inspection Checklist -->
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px dashed #cbd5e1;">
                        <label style="font-weight: 600; color: #92400e; margin-bottom: 0.75rem; display: block;">
                            üõ†Ô∏è ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ö (Device Condition Checklist)
                        </label>
                        <p style="font-size: 0.82rem; color: #b45309; margin-bottom: 0.75rem;">‚ö†Ô∏è ‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
                            <strong>‡∏õ‡∏Å‡∏ï‡∏¥</strong> ‡∏´‡∏£‡∏∑‡∏≠ <strong>‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥</strong> ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
                        </p>
                        <div
                            style="display: flex; gap: 0.75rem; align-items: center; flex-wrap: wrap; margin-bottom: 0.75rem;">
                            <span style="font-size: 0.86rem; color: #92400e; font-weight: 600;">‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á:</span>
                            <label
                                style="display: inline-flex; align-items: center; gap: 0.35rem; font-size: 0.86rem; color: #334155; cursor: pointer;">
                                <input type="radio" name="devicePowerState" id="devicePowerOn" value="on" checked>
                                ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏¥‡∏î
                            </label>
                            <label
                                style="display: inline-flex; align-items: center; gap: 0.35rem; font-size: 0.86rem; color: #334155; cursor: pointer;">
                                <input type="radio" name="devicePowerState" id="devicePowerOff" value="off">
                                ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î
                            </label>
                        </div>
                        <style>
                            .condition-checklist {
                                display: flex;
                                flex-direction: column;
                                gap: 0.65rem;
                                margin-top: 0.5rem;
                            }

                            .condition-row {
                                background: #f8fafc;
                                border: 1.5px solid #e2e8f0;
                                border-radius: 10px;
                                padding: 0.65rem 1rem;
                                transition: border-color 0.2s;
                            }

                            .condition-row.is-normal {
                                border-color: #22c55e;
                                background: #f0fdf4;
                            }

                            .condition-row.is-abnormal {
                                border-color: #ef4444;
                                background: #fef2f2;
                            }

                            .condition-row-top {
                                display: flex;
                                align-items: center;
                                justify-content: space-between;
                                gap: 0.5rem;
                            }

                            .condition-label {
                                font-size: 0.9rem;
                                color: #334155;
                                font-weight: 500;
                                flex: 1;
                            }

                            .condition-btns {
                                display: flex;
                                gap: 0.4rem;
                            }

                            .cond-btn {
                                padding: 0.3rem 0.9rem;
                                border-radius: 20px;
                                border: 1.5px solid #cbd5e1;
                                background: white;
                                font-size: 0.82rem;
                                font-weight: 600;
                                cursor: pointer;
                                transition: all 0.15s;
                                color: #64748b;
                            }

                            .cond-btn:hover {
                                transform: translateY(-1px);
                            }

                            .cond-btn.normal-active {
                                background: #22c55e;
                                border-color: #16a34a;
                                color: white;
                            }

                            .cond-btn.abnormal-active {
                                background: #ef4444;
                                border-color: #dc2626;
                                color: white;
                            }

                            .condition-reason {
                                margin-top: 0.5rem;
                                display: none;
                            }

                            .condition-reason textarea {
                                width: 100%;
                                border: 1.5px solid #fca5a5;
                                border-radius: 8px;
                                padding: 0.4rem 0.6rem;
                                font-size: 0.85rem;
                                resize: none;
                                font-family: inherit;
                                background: #fff1f1;
                            }

                            .condition-reason textarea:focus {
                                outline: none;
                                border-color: #ef4444;
                            }
                        </style>
                        <div class="condition-checklist" id="deviceConditionChecklist">
                            <!-- Items injected by JS for maintainability -->
                        </div>
                        <script>
                            (function () {
                                const items = [
                                    { key: 'exterior', label: '‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å' },
                                    { key: 'screen', label: '‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠' },
                                    { key: 'assembly', label: '‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö' },
                                    { key: 'appleLogo', label: '‡πÇ‡∏•‡πÇ‡∏Å‡πâ Apple' },
                                    { key: 'buttons', label: '‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á‡πÜ' },
                                    { key: 'chargingPort', label: '‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ä‡∏≤‡∏£‡πå‡∏à' },
                                    { key: 'simTray', label: '‡∏ä‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏ã‡∏¥‡∏°' },
                                    { key: 'imeiMatch', label: 'IMEI ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô' },
                                    { key: 'modelMatch', label: 'Model ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á' },
                                    { key: 'screenTouch', label: '‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠/‡∏ó‡∏±‡∏ä‡∏™‡∏Å‡∏£‡∏µ‡∏ô' },
                                    { key: 'faceIdTouchId', label: 'Face ID / Touch ID' },
                                    { key: 'cameras', label: '‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤/‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏±‡∏á' },
                                    { key: 'speakerMic', label: '‡∏•‡∏≥‡πÇ‡∏û‡∏á/‡πÑ‡∏°‡∏Ñ‡πå' },
                                    { key: 'connectivity', label: '‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠' },
                                    { key: 'battery', label: '‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà' },
                                    { key: 'warrantyVoid', label: '‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô/‡∏ß‡∏≠‡∏¢‡∏î‡πå' },
                                    { key: 'other', label: '‡∏≠‡∏∑‡πà‡∏ô‡πÜ' }
                                ];
                                const container = document.getElementById('deviceConditionChecklist');
                                if (!container) return;

                                const allowedKeysWhenOff = new Set(['exterior', 'screen', 'assembly', 'appleLogo', 'chargingPort', 'simTray']);
                                const getPowerState = () => {
                                    const el = document.querySelector('input[name="devicePowerState"]:checked');
                                    return el ? el.value : 'on';
                                };

                                const renderChecklist = () => {
                                    const powerState = getPowerState();
                                    container.innerHTML = '';

                                    items
                                        .filter(item => {
                                            if (powerState === 'off') {
                                                return allowedKeysWhenOff.has(item.key);
                                            }
                                            return true;
                                        })
                                        .forEach(item => {
                                            const row = document.createElement('div');
                                            row.className = 'condition-row';
                                            row.dataset.key = item.key;
                                            if (item.key === 'other') {
                                                row.innerHTML = `
                                        <div class="condition-row-top">
                                            <span class="condition-label">${item.label}</span>
                                        </div>
                                        <div class="condition-reason" id="reason-${item.key}" style="display: block;">
                                            <textarea rows="2" id="reason-text-${item.key}" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏∑‡πà‡∏ô‡πÜ..."></textarea>
                                        </div>`;
                                            } else {
                                                row.innerHTML = `
                                        <div class="condition-row-top">
                                            <span class="condition-label">${item.label}</span>
                                            <div class="condition-btns">
                                                <button type="button" class="cond-btn normal-btn" data-key="${item.key}">‚úÖ ‡∏õ‡∏Å‡∏ï‡∏¥</button>
                                                <button type="button" class="cond-btn abnormal-btn" data-key="${item.key}">‚ùå ‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥</button>
                                            </div>
                                        </div>
                                        <div class="condition-reason" id="reason-${item.key}">
                                            <textarea rows="2" id="reason-text-${item.key}" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥..."></textarea>
                                        </div>`;
                                                const normalBtn = row.querySelector('.normal-btn');
                                                const abnormalBtn = row.querySelector('.abnormal-btn');
                                                const reasonDiv = row.querySelector('.condition-reason');
                                                normalBtn.addEventListener('click', () => {
                                                    row.className = 'condition-row is-normal';
                                                    normalBtn.classList.add('normal-active');
                                                    abnormalBtn.classList.remove('abnormal-active');
                                                    reasonDiv.style.display = 'none';
                                                });
                                                abnormalBtn.addEventListener('click', () => {
                                                    row.className = 'condition-row is-abnormal';
                                                    abnormalBtn.classList.add('abnormal-active');
                                                    normalBtn.classList.remove('normal-active');
                                                    reasonDiv.style.display = 'block';
                                                });
                                            }
                                            container.appendChild(row);
                                        });
                                };

                                renderChecklist();

                                document.querySelectorAll('input[name="devicePowerState"]').forEach(rb => {
                                    rb.addEventListener('change', renderChecklist);
                                });
                            })();
                        </script>
                    </div>

                    <div class="form-group full-width" style="margin-top: 0.75rem;">
                        <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢ *</label>
                        <textarea id="claimSymptoms" rows="4" required
                            placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏≠‡πÅ‡∏ï‡∏Å, ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡∏Å, ‡∏ô‡πâ‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ ‡∏Ø‡∏•‡∏Ø"
                            style="width: 100%; resize: vertical;"></textarea>
                    </div>

                    <div class="form-group full-width" style="margin-top: 0.75rem;">
                        <label>‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢ (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ)</label>
                        <input type="file" id="claimImages" accept="image/*" multiple
                            style="padding: 0.75rem; border: 2px dashed #d1d5db; border-radius: 8px; width: 100%; cursor: pointer; background: #fefce8;">
                        <div id="claimImagePreview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
                        </div>
                    </div>

                    <div class="form-group full-width" style="margin-top: 0.75rem;">
                        <label style="font-weight: 600;">‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Return Method) *</label>
                        <div class="radio-options" style="margin-top: 0.5rem;">
                            <label class="radio-label">
                                <input type="radio" name="returnMethod" value="pickup" required>
                                <span class="radio-custom"></span>‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="returnMethod" value="delivery">
                                <span class="radio-custom"></span>‡∏à‡∏±‡∏î‡∏™‡πà‡∏á
                            </label>
                        </div>
                        <div id="pickupBranchGroup" style="display: none; margin-top: 0.75rem;">
                            <label>‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤ / ‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</label>
                            <input type="text" id="claimPickupBranch" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á">
                        </div>

                        <!-- New Delivery Address Options -->
                        <div id="deliveryOptionsGroup"
                            style="display: none; margin-top: 1rem; padding: 1rem; background: #fff; border: 1px solid #e2e8f0; border-radius: 10px;">
                            <label style="font-weight: 600; color: #1e40af; margin-bottom: 0.75rem; display: block;">üìç
                                ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</label>
                            <div class="radio-options"
                                style="flex-direction: column; gap: 0.75rem; align-items: flex-start;">
                                <label class="radio-label">
                                    <input type="radio" name="deliveryAddressType" value="card">
                                    <span class="radio-custom"></span>‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏≤‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏±‡∏ï‡∏£
                                    <div id="displayCardAddress"
                                        style="font-size: 0.8rem; color: #64748b; margin-left: 2rem; margin-top: 2px;">
                                    </div>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="deliveryAddressType" value="memberShipping">
                                    <span class="radio-custom"></span>‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á
                                    <div id="displayShippingAddress"
                                        style="font-size: 0.8rem; color: #64748b; margin-left: 2rem; margin-top: 2px;">
                                    </div>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="deliveryAddressType" value="new">
                                    <span class="radio-custom"></span>‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡∏°‡πà
                                </label>
                            </div>
                            <div id="newAddressGroup" style="display: none; margin-top: 0.75rem;">
                                <textarea id="claimNewAddress" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà..."
                                    style="width: 100%; border: 1px solid #cbd5e1; border-radius: 8px; padding: 0.5rem;"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions" style="margin-top: 1.5rem;">
                    <button type="button" id="closeClaimFormModal" class="submit-btn"
                        style="background: var(--text-muted);">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
                    <button type="submit" class="submit-btn"
                        style="background: linear-gradient(135deg, #f59e0b, #d97706);">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Claim Contract / Signature Modal -->
    <div id="claimContractModal" class="modal">
        <div class="modal-content" style="max-width: 900px; max-height: 95vh; overflow-y: auto;"
            id="claimContractPrintArea">
            <!-- Print Header -->
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <img src="logo_easycare.png" alt="Logo" style="height: 60px; margin-bottom: 0.5rem;">
                <h2 style="color: var(--primary); margin: 0;">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</h2>
                <p style="color: var(--text-muted); font-size: 0.85rem;">Easy.Care Mobile Insurance Warranty - Claim
                    Contract</p>
            </div>

            <!-- Claim Details -->
            <div style="background: #f8fafc; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                <h3
                    style="font-size: 1rem; color: var(--text-main); margin-bottom: 1rem; border-bottom: 2px solid #e2e8f0; padding-bottom: 0.5rem;">
                    üìã ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°</h3>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 0.9rem;">
                    <div><strong>‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ñ‡∏•‡∏°:</strong> <span id="contractClaimId">-</span></div>
                    <div><strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏Ñ‡∏•‡∏°:</strong> <span id="contractClaimDate">-</span></div>
                    <div><strong>‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå:</strong> <span id="contractPolicyNumber">-</span></div>
                    <div><strong>‡∏£‡∏´‡∏±‡∏™‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å:</strong> <span id="contractMemberId">-</span></div>
                    <div><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤:</strong> <span id="contractCustomerName">-</span></div>
                    <div><strong>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå:</strong> <span id="contractCustomerPhone">-</span></div>
                    <div><strong>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå:</strong> <span id="contractDeviceModel">-</span></div>
                    <div><strong>‡∏ú‡∏π‡πâ‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</strong> <span id="contractStaffName">-</span></div>
                    <div style="grid-column: 1 / -1;"><strong>‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</strong> <span id="contractSymptoms">-</span></div>
                    <div
                        style="grid-column: 1 / -1; margin-top: 10px; padding-top: 10px; border-top: 1px dashed #e2e8f0;">
                        <strong>‡∏™‡∏†‡∏≤‡∏û‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏£‡∏±‡∏ö (Device Condition):</strong>
                        <div id="contractConditionGrid"
                            style="display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 5px; margin-top: 5px; font-size: 0.85rem;">
                            <!-- Checkbox items will be populated by script -->
                        </div>
                    </div>
                    <div><strong>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á:</strong> <span id="contractReturnMethod">-</span></div>
                    <div id="contractBranchRow" style="display: none;"><strong>‡∏™‡∏≤‡∏Ç‡∏≤:</strong> <span
                            id="contractPickupBranch">-</span></div>
                </div>

                <!-- Uploaded Images -->
                <div id="contractImagesSection" style="margin-top: 1rem; display: none;">
                    <strong>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö:</strong>
                    <div id="contractImages" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;"></div>
                </div>
            </div>

            <!-- Actions (hidden on print) -->
            <div class="claim-contract-actions"
                style="display: flex; gap: 10px; justify-content: center; margin-top: 1.5rem;">
                <button type="button" id="closeContractModal" class="btn-cancel">‚úï ‡∏õ‡∏¥‡∏î</button>
                <button type="button" id="printContractBtn" class="submit-btn"
                    style="background: linear-gradient(135deg, #3b82f6, #2563eb);">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</button>
            </div>
        </div>
    </div>

    <!-- Status Update Modal -->
    <div id="statusUpdateModal" class="modal">
        <div class="modal-content" style="max-width: 900px; max-height: 95vh; overflow-y: auto;">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                </svg>
                ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°
            </h2>

            <!-- Claim Info Bar -->
            <div id="statusClaimInfo"
                style="background: #f1f5f9; border-radius: 12px; padding: 1rem 1.5rem; margin-bottom: 1.5rem; display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 0.5rem; font-size: 0.9rem;">
            </div>

            <!-- Timeline Section -->
            <div id="statusTimeline" class="status-timeline"></div>

            <!-- Cost Summary -->
            <div id="statusCostSummary" class="status-cost-summary">
                <span>‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</span>
                <span id="statusTotalCost" style="font-size: 1.4rem; font-weight: 700;">0 ‡∏ö‡∏≤‡∏ó</span>
            </div>

            <!-- Update Form -->
            <div
                style="background: linear-gradient(135deg, #eff6ff, #dbeafe); border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                <h3 style="margin-bottom: 1rem; font-size: 1rem; color: #1e40af;">üìù ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÉ‡∏´‡∏°‡πà</h3>
                <div class="grid-row" style="gap: 0.75rem;">
                    <div class="form-group">
                        <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï *</label>
                        <input type="text" id="updateTitle" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏õ‡∏®‡∏π‡∏ô‡∏¢‡πå, ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡∏ó‡∏î‡∏™‡∏≠‡∏ö"
                            required>
                    </div>
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏®‡∏π‡∏ô‡∏¢‡πå</label>
                        <input type="text" id="updateCenterName"
                            placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏®‡∏π‡∏ô‡∏¢‡πå Apple Authorized / ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ã‡πà‡∏≠‡∏°...">
                    </div>
                    <div class="form-group">
                        <label>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå</label>
                        <input type="text" id="updateCenterLocation" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏≤‡∏Ç‡∏≤..., ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î...">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏π‡∏ô‡∏¢‡πå</label>
                        <input type="text" id="updateCenterPhone" placeholder="‡πÄ‡∏ä‡πà‡∏ô 02-xxx-xxxx">
                    </div>
                    <div class="form-group">
                        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏≤‡∏á</label>
                        <input type="text" id="updateTechnicianName" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏∏‡∏ì...">
                    </div>
                    <div class="form-group">
                        <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ä‡πà‡∏≤‡∏á</label>
                        <input type="text" id="updateTechnicianPhone" placeholder="‡πÄ‡∏ä‡πà‡∏ô 08x-xxx-xxxx">
                    </div>
                    <div class="form-group">
                        <label>‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</label>
                        <button type="button" id="toggleCostBtn" class="submit-btn"
                            style="width: 100%; padding: 0.75rem; font-size: 0.95rem; background: linear-gradient(135deg, #f59e0b, #d97706);">
                            ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
                        </button>
                        <div id="updateCostSection" style="display:none; margin-top: 0.75rem;">
                            <div style="display:flex; gap: 0.5rem; align-items: center;">
                                <input type="number" id="updateCost" placeholder="0" min="0" value="0" style="flex: 1;">
                                <button type="button" id="removeCostBtn" class="btn-cancel"
                                    style="width: auto; min-width: 90px; padding: 0.75rem 0.9rem;">‡∏•‡∏ö</button>
                            </div>
                            <div style="margin-top: 0.5rem; font-size: 0.85rem; color: #b45309;">‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢
                                ‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏£‡∏π‡∏õ</div>
                        </div>
                    </div>
                </div>
                <div class="form-group full-width" id="updateEvidenceGroup" style="margin-top: 0.75rem; display:none;">
                    <label>‡πÅ‡∏ô‡∏ö‡∏£‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢)</label>
                    <input type="file" id="updateEvidenceImages" accept="image/*" multiple
                        style="padding: 0.75rem; border: 2px dashed #f59e0b; border-radius: 8px; width: 100%; cursor: pointer; background: #fffbeb;">
                    <div id="updateEvidencePreview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
                    </div>
                </div>
                <div class="form-group full-width" style="margin-top: 0.75rem;">
                    <label>‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ)</label>
                    <input type="file" id="updateImages" accept="image/*" multiple
                        style="padding: 0.75rem; border: 2px dashed #93c5fd; border-radius: 8px; width: 100%; cursor: pointer; background: #eff6ff;">
                    <div id="updateImagePreview" style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px;">
                    </div>
                </div>
                <input type="hidden" id="statusUpdateClaimId">
                <button type="button" id="submitUpdateBtn" class="submit-btn full-width"
                    style="margin-top: 1rem; background: linear-gradient(135deg, #3b82f6, #2563eb);">
                    üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
                </button>
            </div>

            <!-- Complete Section -->
            <div id="completeSectionContainer"
                style="background: linear-gradient(135deg, #f0fdf4, #dcfce7); border: 2px solid #86efac; border-radius: 12px; padding: 1.5rem; margin-top: 1.5rem;">
                <h3 style="margin-bottom: 0.75rem; font-size: 1.1rem; color: #166534;">‚úÖ ‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏•‡∏°
                    (‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)</h3>

                <div class="form-group full-width" style="margin-bottom: 1rem;">
                    <label style="font-weight: 600; color: #15803d;">‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á *</label>
                    <div class="radio-options" style="margin-top: 0.5rem;">
                        <label class="radio-label">
                            <input type="radio" name="completeReturnMethod" value="pickup">
                            <span class="radio-custom"></span>‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏Ç‡∏≤
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="completeReturnMethod" value="delivery">
                            <span class="radio-custom"></span>‡∏à‡∏±‡∏î‡∏™‡πà‡∏á (Delivery)
                        </label>
                    </div>
                </div>

                <!-- 1. Pickup Dynamic Form -->
                <div id="completePickupGroup"
                    style="display: none; margin-bottom: 1rem; padding: 1rem; background: rgba(255,255,255,0.6); border-radius: 8px;">
                    <div class="form-group full-width">
                        <label>‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡∏£‡∏±‡∏ö *</label>
                        <input type="text" id="completePickupBranch" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏≤‡∏Ç‡∏≤‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏Å‡∏î‡∏µ">
                    </div>

                    <div class="grid-row" style="margin-top: 1rem;">
                        <div class="form-group" style="margin-top:0;">
                            <label>1. ‡∏£‡∏π‡∏õ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Device Photo) *</label>
                            <input type="file" id="completeDeviceImagePickup" accept="image/*" multiple
                                style="padding: 0.5rem; border: 1px dashed #22c55e; border-radius: 6px; width: 100%; cursor: pointer;">
                            <div id="previewDevicePickup" style="margin-top: 5px; height: 60px;"></div>
                        </div>
                        <div class="form-group" style="margin-top:0;">
                            <label>2. ‡∏£‡∏π‡∏õ‡∏ï‡∏≠‡∏ô‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á *</label>
                            <input type="file" id="completeCustomerImage" accept="image/*" multiple
                                style="padding: 0.5rem; border: 1px dashed #22c55e; border-radius: 6px; width: 100%; cursor: pointer;">
                            <div id="previewCustomerPickup" style="margin-top: 5px; height: 60px;"></div>
                        </div>
                    </div>
                </div>

                <!-- 2. Delivery Dynamic Form -->
                <div id="completeDeliveryGroup"
                    style="display: none; margin-bottom: 1rem; padding: 1rem; background: rgba(255,255,255,0.6); border-radius: 8px;">
                    <div class="form-group full-width" style="margin-bottom: 1rem;">
                        <label>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á *</label>
                        <div class="radio-options"
                            style="flex-direction: column; gap: 0.5rem; align-items: flex-start; margin-top: 0.5rem;">
                            <label class="radio-label">
                                <input type="radio" name="completeDeliveryAddressType" value="original">
                                <span class="radio-custom"></span>‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏î‡∏¥‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°
                                <div id="displayOriginalAddress"
                                    style="font-size: 0.8rem; color: #475569; margin-left: 28px; margin-top: 2px;">-
                                </div>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="completeDeliveryAddressType" value="new">
                                <span class="radio-custom"></span>‡∏£‡∏∞‡∏ö‡∏∏‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡∏°‡πà
                            </label>
                        </div>
                        <div id="completeNewAddressGroup" style="display: none; margin-top: 0.75rem;">
                            <textarea id="completeNewAddress" rows="3" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà..."
                                style="width: 100%; border: 1px solid #cbd5e1; border-radius: 8px; padding: 0.5rem;"></textarea>
                        </div>
                    </div>

                    <div class="grid-row" style="row-gap: 1rem;">
                        <div class="form-group" style="margin-top:0;">
                            <label>1. ‡∏£‡∏π‡∏õ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (Device Photo) *</label>
                            <input type="file" id="completeDeviceImageDelivery" accept="image/*" multiple
                                style="padding: 0.5rem; border: 1px dashed #22c55e; border-radius: 6px; width: 100%; cursor: pointer;">
                            <div id="previewDeviceDelivery" style="margin-top: 5px; height: 60px;"></div>
                        </div>
                        <div class="form-group" style="margin-top:0;">
                            <label>2. ‡∏£‡∏π‡∏õ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏™‡∏£‡πá‡∏à *</label>
                            <input type="file" id="completeBoxImage" accept="image/*" multiple
                                style="padding: 0.5rem; border: 1px dashed #22c55e; border-radius: 6px; width: 100%; cursor: pointer;">
                            <div id="previewBoxDelivery" style="margin-top: 5px; height: 60px;"></div>
                        </div>
                        <div class="form-group" style="margin-top:0; grid-column: 1 / -1;">
                            <label>3. ‡∏£‡∏π‡∏õ‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á/Tracking *</label>
                            <input type="file" id="completeReceiptImage" accept="image/*" multiple
                                style="padding: 0.5rem; border: 1px dashed #22c55e; border-radius: 6px; width: 100%; cursor: pointer;">
                            <div id="previewReceiptDelivery" style="margin-top: 5px; height: 60px;"></div>
                        </div>
                    </div>
                </div>

                <button type="button" id="completeClaimBtn" class="submit-btn full-width"
                    style="margin-top: 0.5rem; background: linear-gradient(135deg, #22c55e, #16a34a); font-size: 1.1rem; padding: 1rem; display: none;">
                    üéâ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏•‡∏°
                </button>
            </div>

            <!-- Close Button -->
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 1.5rem;">
                <button type="button" id="closeStatusUpdateModal" class="btn-cancel">‚úï ‡∏õ‡∏¥‡∏î</button>
            </div>
        </div>
    </div>

    <!-- Claim History Modal -->
    <div id="claimHistoryModal" class="modal">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary);">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" style="vertical-align: middle; margin-right: 8px;">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°
            </h2>
            <div id="claimHistoryList" style="display: flex; flex-direction: column; gap: 1rem;"></div>
            <div id="claimHistoryEmpty" class="empty-state" style="display: none; padding: 2rem;">
                <p>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ</p>
            </div>
            <div style="display: flex; justify-content: center; margin-top: 1.5rem;">
                <button type="button" id="closeClaimHistoryModal" class="btn-cancel"
                    style="width: auto; min-width: 120px;">‚úï ‡∏õ‡∏¥‡∏î</button>
            </div>
        </div>
    </div>

    <!-- =================== CLAIM RECEIPT VIEW (in-page, shown when printing) =================== -->
    <!--
        ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà (window.open) ‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏¥‡∏°
        ‡πÅ‡∏•‡∏∞‡∏ã‡πà‡∏≠‡∏ô UI ‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ú‡πà‡∏≤‡∏ô @media print
        ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô window.showClaimReceipt(claimData) ‡∏à‡∏≤‡∏Å script.js
    -->
    <div id="claimReceiptView">
        <!-- Print Buttons (hidden on print) -->
        <div class="cr-print-buttons">
            <button onclick="window.printClaimReceipt()" class="cr-print-button">
                <svg style="width:20px;height:20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z">
                    </path>
                </svg>
                ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
            </button>
            <button onclick="window.closeClaimReceipt()" class="cr-close-button">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
        </div>

        <div class="cr-page">
            <div class="cr-page-content">
                <!-- Header -->
                <div class="cr-header">
                    <div class="cr-logo-section">
                        <img src="logo_easycare.png" alt="Easy.Care Logo" style="height:20px;object-fit:contain;">
                    </div>
                    <div class="cr-company-name">
                        <h1>‡∏≠‡∏µ‡∏ã‡∏µ‡πà‡πÅ‡∏Ñ‡∏£‡πå</h1>
                        <h2>Easy.Care</h2>
                    </div>
                    <div class="cr-date-section">
                        ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà <span id="cr_claimDate">.....................................................</span>
                    </div>
                </div>

                <div style="text-align:center;margin-bottom:10px;">
                    <strong style="font-size:20px;">‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ñ‡∏•‡∏° (Claim Receipt)</strong>
                </div>

                <div class="cr-form-container">
                    <!-- Document Info Row -->
                    <div class="cr-row">
                        <div class="cr-col cr-w-40">
                            <span class="cr-label">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</span>
                            <span id="cr_memberId" class="cr-dotted-line" style="width:150px;"></span>
                        </div>
                        <div class="cr-col cr-w-60">
                            <span class="cr-label" style="font-weight:bold;">‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏•‡∏°</span>
                            <span id="cr_claimId" style="font-weight:bold;font-size:22px;margin-left:10px;"></span>
                        </div>
                    </div>

                    <!-- 1. Customer & Policy Information -->
                    <div class="cr-row cr-section-header-row">
                        <div class="cr-col cr-w-100">
                            <span class="cr-section-title">1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (Customer & Policy
                                Information)</span>
                        </div>
                    </div>
                    <div class="cr-row">
                        <div class="cr-col cr-w-60" style="border-right:1.5px solid #000;">
                            <div class="cr-field">
                                <span class="cr-label">‡∏ä‡∏∑‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</span>
                                <span id="cr_customerName" class="cr-dotted-line" style="width:200px;"></span>
                            </div>
                            <div class="cr-field">
                                <span class="cr-label">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</span>
                                <span id="cr_customerPhone" class="cr-dotted-line" style="width:150px;"></span>
                            </div>
                            <div class="cr-field">
                                <span class="cr-label">‡πÄ‡∏•‡∏Ç‡∏Å‡∏£‡∏°‡∏ò‡∏£‡∏£‡∏°‡πå</span>
                                <span id="cr_policyNumber" class="cr-dotted-line" style="width:180px;"></span>
                            </div>
                        </div>
                        <div class="cr-col cr-w-40">
                            <span class="cr-section-title">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó</span>
                            <div style="padding:5px;line-height:1.4;font-size:16px;">
                                62 ‡∏ñ‡∏ô‡∏ô‡∏û‡∏¥‡∏û‡∏¥‡∏ò‡∏†‡∏±‡∏Å‡∏î‡∏µ ‡∏ï‡∏≥‡∏ö‡∏•‡∏™‡∏∞‡πÄ‡∏ï‡∏á<br>
                                ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏¢‡∏∞‡∏•‡∏≤ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏¢‡∏∞‡∏•‡∏≤
                            </div>
                        </div>
                    </div>

                    <!-- 2. Device Information -->
                    <div class="cr-row cr-section-header-row">
                        <div class="cr-col cr-w-100">
                            <span class="cr-section-title">2. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Device Information)</span>
                        </div>
                    </div>
                    <div class="cr-row">
                        <div class="cr-col cr-w-100">
                            <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;">
                                <div>
                                    <div class="cr-field">
                                        <span class="cr-label">‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</span>
                                        <span id="cr_deviceModel" class="cr-dotted-line" style="width:180px;"></span>
                                    </div>
                                    <div class="cr-field">
                                        <span class="cr-label">Serial Number</span>
                                        <span id="cr_deviceSerial" class="cr-dotted-line" style="width:150px;"></span>
                                    </div>
                                </div>
                                <div>
                                    <div class="cr-field">
                                        <span class="cr-label">‡∏™‡∏µ</span>
                                        <span id="cr_deviceColor" class="cr-dotted-line" style="width:100px;"></span>
                                        <span class="cr-label" style="margin-left:15px;">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏</span>
                                        <span id="cr_deviceCapacity" class="cr-dotted-line" style="width:80px;"></span>
                                    </div>
                                    <div class="cr-field">
                                        <span class="cr-label">IMEI</span>
                                        <span id="cr_deviceIMEI" class="cr-dotted-line" style="width:200px;"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Claim Details -->
                    <div class="cr-row cr-section-header-row">
                        <div class="cr-col cr-w-100">
                            <span class="cr-section-title">3. ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏° (Claim Details)</span>
                        </div>
                    </div>
                    <div class="cr-row">
                        <div class="cr-col cr-w-100">
                            <div style="margin-bottom:10px;">
                                <span class="cr-label" style="font-weight:bold;">‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á (Reported
                                    Symptoms):</span>
                            </div>
                            <div id="cr_symptoms"
                                style="border:1px solid #ddd;padding:10px;min-height:60px;background:#fafafa;line-height:1.5;">
                            </div>
                        </div>
                    </div>

                    <!-- 4. Return Method -->
                    <div class="cr-row cr-section-header-row">
                        <div class="cr-col cr-w-100">
                            <span class="cr-section-title">4. ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ñ‡∏∑‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (Return Method)</span>
                        </div>
                    </div>
                    <div class="cr-row">
                        <div class="cr-col cr-w-50">
                            <div class="cr-field">
                                <span class="cr-label">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏Ñ‡∏∑‡∏ô</span>
                                <span id="cr_returnMethod" class="cr-dotted-line" style="width:180px;"></span>
                            </div>
                        </div>
                        <div class="cr-col cr-w-50">
                            <div class="cr-field">
                                <span class="cr-label" id="cr_branchLabel">‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö</span>
                                <span id="cr_pickupBranch" class="cr-dotted-line" style="width:180px;"></span>
                            </div>
                        </div>
                    </div>

                    <!-- 5. Images (if available) -->
                    <div id="cr_imagesSection" class="cr-row" style="display:none;">
                        <div class="cr-col cr-w-100">
                            <div style="margin-bottom:8px;">
                                <span class="cr-label" style="font-weight:bold;">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö (Supporting
                                    Images):</span>
                            </div>
                            <div class="cr-images-grid" id="cr_imageContainer"></div>
                        </div>
                    </div>

                    <!-- 6. Terms & Conditions -->
                    <div class="cr-row cr-section-header-row">
                        <div class="cr-col cr-w-100">
                            <span class="cr-section-title">5. ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£ (Terms & Conditions)</span>
                        </div>
                    </div>
                    <div class="cr-row">
                        <div class="cr-col cr-w-100">
                            <ul class="cr-terms-list">
                                <li>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ù‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô
                                </li>
                                <li>‡πÇ‡∏õ‡∏£‡∏î‡∏ô‡∏≥‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Ç‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô</li>
                                <li>‡∏ó‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø ‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏π‡∏ç‡∏´‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÉ‡∏î‡πÜ ‡∏ï‡πà‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
                                    ‡πÇ‡∏õ‡∏£‡∏î‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏ã‡πà‡∏≠‡∏°</li>
                                <li>‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∑‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 90 ‡∏ß‡∏±‡∏ô ‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏à‡πâ‡∏á‡πÉ‡∏´‡πâ‡∏ó‡∏£‡∏≤‡∏ö ‡∏ó‡∏≤‡∏á‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó‡∏Ø
                                    ‡∏Ç‡∏≠‡∏™‡∏á‡∏ß‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                            </ul>
                            <div style="margin-top:15px;font-size:16px;line-height:1.5;">
                                <p style="margin:5px 0;"><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong>
                                    ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏•‡∏≤‡∏¢‡∏°‡∏∑‡∏≠‡∏ä‡∏∑‡πà‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ
                                    ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏≤‡∏ö‡πÅ‡∏•‡∏∞‡∏ï‡∏Å‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏£
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Signatures -->
            <div class="cr-signature-section">
                <div class="cr-sig-block">
                    <span style="font-weight:bold;">‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏ï‡∏∞‡∏Å‡∏≤‡∏ü‡∏∏‡∏•</span>
                    <div class="cr-sig-line" id="cr_customerSigBox"></div>
                    <div class="cr-sig-name">(<span
                            id="cr_signCustomerName">..................................................</span>)</div>
                </div>
                <div class="cr-sig-block">
                    <span style="font-weight:bold;">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏≠‡∏µ‡∏ã‡∏µ‡πà‡πÅ‡∏Ñ‡∏£‡πå</span>
                    <div class="cr-sig-line" id="cr_staffSigBox"></div>
                    <div class="cr-sig-name">(<span
                            id="cr_signStaffName">..................................................</span>)</div>
                </div>
                <div class="cr-sig-block">
                    <span>‡∏ú‡∏π‡πâ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
                    <div><img src="ceo.png" alt="CEO" style="width:130px;height:65px;"></div>
                    <div class="cr-sig-name">(‡∏≠‡∏±‡∏™‡∏°‡∏≤ ‡∏õ‡∏≠‡πÇ‡∏ï‡πä‡∏∞)</div>
                </div>
            </div>
        </div>
    </div>
    <!-- =================== END CLAIM RECEIPT VIEW =================== -->

    <script src="permissions.js"></script>
    <script src="script.js"></script>

    <!-- =================== CLAIM RECEIPT LOGIC (inline, replaces claim_receipt.html script) =================== -->
    <script>
        /**
         * showClaimReceipt(claimData)
         * ----------------------------
         * ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å script.js ‡πÅ‡∏ó‡∏ô window.open('claim_receipt.html')
         * ‡∏£‡∏±‡∏ö object claimData ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô localStorage)
         *
         * claimData shape:
         * {
         *   claimId, claimDate, customerName, memberId, customerPhone,
         *   policyNumber, deviceModel, warrantyId,
         *   symptoms, returnMethod, pickupBranch,
         *   customerSignature, staffSignature, staffName,
         *   images: []   // array ‡∏Ç‡∏≠‡∏á URL ‡∏´‡∏£‡∏∑‡∏≠ base64
         * }
         */
        window.showClaimReceipt = async function (claim) {
            if (!claim) {
                alert('‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏°');
                return;
            }

            // Helper
            const formatThaiDate = (dateStr) => {
                if (!dateStr) return '';
                const d = new Date(dateStr);
                return d.toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' });
            };

            const set = (id, val) => {
                const el = document.getElementById(id);
                if (el) el.textContent = val || '-';
            };

            // Populate
            set('cr_claimId', claim.claimId);
            document.getElementById('cr_claimDate').textContent = claim.claimDate
                ? formatThaiDate(claim.claimDate) : '';

            set('cr_memberId', claim.memberId);
            set('cr_customerName', claim.customerName);
            set('cr_customerPhone', claim.customerPhone);
            set('cr_policyNumber', claim.policyNumber);
            set('cr_deviceModel', claim.deviceModel);
            set('cr_symptoms', claim.symptoms);
            set('cr_returnMethod', claim.returnMethod === 'pickup' ? '‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏Ç‡∏≤' : '‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå');

            const branchLabel = document.getElementById('cr_branchLabel');
            if (claim.returnMethod === 'pickup') {
                if (branchLabel) branchLabel.textContent = '‡∏™‡∏≤‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö';
                set('cr_pickupBranch', claim.pickupBranch || '-');
            } else {
                if (branchLabel) branchLabel.textContent = '‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á';
                set('cr_pickupBranch', claim.deliveryAddressDetail || '-');
            }

            // Device detail from API
            const serialEl = document.getElementById('cr_deviceSerial');
            const colorEl = document.getElementById('cr_deviceColor');
            const capEl = document.getElementById('cr_deviceCapacity');
            const imeiEl = document.getElementById('cr_deviceIMEI');

            if (claim.warrantyId) {
                try {
                    const res = await fetch(`/api/warranties/${claim.warrantyId}`);
                    const warranty = await res.json();
                    if (warranty && warranty.device) {
                        if (colorEl) colorEl.textContent = warranty.device.color || '-';
                        if (capEl) capEl.textContent = warranty.device.capacity || '-';
                        if (serialEl) serialEl.textContent = warranty.device.serial || '-';
                        if (imeiEl) imeiEl.textContent = warranty.device.imei || '-';
                    }
                } catch (e) {
                    [serialEl, colorEl, capEl, imeiEl].forEach(el => { if (el) el.textContent = '-'; });
                }
            } else {
                [serialEl, colorEl, capEl, imeiEl].forEach(el => { if (el) el.textContent = '-'; });
            }

            // Signatures
            const customerSigBox = document.getElementById('cr_customerSigBox');
            const staffSigBox = document.getElementById('cr_staffSigBox');
            if (customerSigBox) {
                customerSigBox.innerHTML = claim.customerSignature
                    ? `<img src="${claim.customerSignature}" class="cr-signature-img" alt="Customer Signature">`
                    : '';
            }
            if (staffSigBox) {
                staffSigBox.innerHTML = claim.staffSignature
                    ? `<img src="${claim.staffSignature}" class="cr-signature-img" alt="Staff Signature">`
                    : '';
            }
            set('cr_signCustomerName', claim.customerName || '..................................');
            set('cr_signStaffName', claim.staffName || '..................................');

            // Images
            const imgContainer = document.getElementById('cr_imageContainer');
            const imgSection = document.getElementById('cr_imagesSection');
            if (imgContainer) imgContainer.innerHTML = '';
            if (claim.images && claim.images.length > 0 && imgSection && imgContainer) {
                imgSection.style.display = 'flex';
                claim.images.forEach((imgUrl, idx) => {
                    const img = document.createElement('img');
                    img.src = imgUrl;
                    img.alt = `‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà ${idx + 1}`;
                    imgContainer.appendChild(img);
                });
            } else if (imgSection) {
                imgSection.style.display = 'none';
            }

            // Show receipt view, hide app
            document.getElementById('claimReceiptView').style.display = 'block';
            document.getElementById('app').style.display = 'none';
            const regView = document.getElementById('registrationView');
            if (regView) regView.style.display = 'none';
        };

        /** ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à */
        window.printClaimReceipt = function () {
            window.print();
        };

        /** ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà app */
        window.closeClaimReceipt = function () {
            document.getElementById('claimReceiptView').style.display = 'none';
            document.getElementById('app').style.display = '';
        };
    </script>
</body>

</html>